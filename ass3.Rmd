---
title: Innlevering 3
author: Innlevering 3 i Data Science 2021 - Maren Sognefest og Daniel Karstad
Affiliation: HVL
email: 152148@stud.hvl.no & 598289@stud.hvl.no
bibliography: 
bib-humanities: true
nocite: 
lang: no-NB
fontsize: 12pt
linestretch: 1.5
output:
  html_document:
    df_print: paged
  pdf_document: default
  word_document: default
  html_notebook: default
---
```{r echo=FALSE}
library(styler) 
library(gapminder)
library(dplyr)
library(tidyverse)
library(rgr)
```

# .
Filen ddf_concepts.csv inneholder forskjellig informasjon om de ulike variablene i datasettene. Disse variablene omhandler mye forskjellig, blant annet hvor mange som har hiv, hvor mange som har mobiltelefon, hvor mange som har ulike typer kreft osv. 


# 2.
Filen ddf--entities--geo--country.csv inneholder informasjon om alle verdens land. Det er mye ulik informasjon, blant annet hvor mye befolkningen tjener, hvilken religion landet tilhører, hvorvidt landet er et utviklingsland, hvilken verdensdel det ligger i osv.


# 3.
Filen ddf--entitites--geo--un_sdg_region.csv inneholder en liste over verdens regioner og om hvorvidt disse er med i FN. 


# 4.
Pakken *gapminder* inneholder blant annet et datasett som heter *Gapminder*. Dette inneholder variablene "land" (country), "kontinent" (countinent), "år" (year), "forventet levetid" (lifeExp), "befolkning" (pop) og "GDP per capita" (gdpPercap, i dollar. Er justert etter inflasjon). I dette datasettet står det at Australig og New Zealand er i Oseania. I datasettet fra dataen vi har lastet ned står det at Australig og New Zealand ligger i Asia. 


# 5.
Her skal vi endre kontinent-variablen i dff--entitites--geo--country.csv. Vi skal kun inkludere land som har aiso3166_1_alpha3-kode. Vi skal kalle den endrede versjonen g_c, og det er g_c vi skal bruke videre i oppgaven. 

```{r Nytt datasett g_c}
g_c <- read.csv("data/ddf--entities--geo--country.csv")
```

```{r Fikse kontinenter}
g_c <- g_c %>%
mutate(g_c, continent = case_when(world_4region == "asia" & un_sdg_region %in% c("un_australia_and_new_zealand", "un_oceania_exc_australia_and_new_zealand") ~ "Oseania", 
                                 world_4region == "europe" ~ "Europa",
                                 world_4region == "asia" ~ "Asia",
                                 world_4region == "americas" ~ "Amerika",
                                 world_4region == "africa" ~ "Afrika"
                                 ))
                                 
g_c <- g_c %>% filter(!is.na(iso3166_1_alpha3)) 
```


# 6.
```{r Antall land}
length(unique(g_c$country))
```
Etter at vi har brukt filter-funksjonen er det 273 unike land i datasettet. Under kan man se hvor mange land det er per kontinent.

```{r Antall land per kontinent}
g_c %>% group_by(continent) %>% 
summarise(countries = length(unique(country)))
# Her skulle vi fått fjernet nederste rad med Na. men får ikke til.
```

# 7.
```{r lifeExp}
lifeExp <- ddf_datapoints_life_expectancy_years_by_geo_time
col_types = cols(time = col_date(format = "%Y")) #endrer tidsformat
rename (lifeExp, year = time) #endrer navn fra time til year
```

```{r legge lifeExp til g_c}
left_join(
 g_c,
 lifeExp,
    by = c("country" = "geo")) #Country og geo er samme.
```

# 8.




